-- Initial Grin.cabal generated by cabal init.  For further documentation,
-- see http://haskell.org/cabal/users-guide/

name:                Grin
version:             0.1.0.0
synopsis:            grin backend stripped out from jhc
description:         Compiles grin to C or executable. Also includes the jhc rts.
-- license:
license-file:        LICENSE
author:              John Meacham
--maintainer:
-- copyright:
-- category:
build-type:          Simple
cabal-version:       >=1.10

extra-source-files:
  src/StringTable/StringTable_cbits.h
  src/StringTable/StringTable_cbits.c

library
  exposed-modules:     Grin.Main
                       Grin.Grin
                       Grin.DeadCode
                       Grin.Devolve
                       Grin.EvalInline
                       Grin.HashConst
                       Grin.Lint
                       Grin.NodeAnalyze
                       Grin.Noodle
                       Grin.Optimize
                       Grin.Show
                       Grin.SSimplify
                       Grin.StorageAnalysis
                       Grin.Val
                       Grin.Whiz

  other-modules:       FlagDump
                       FlagOpts
                       GenUtil
                       Options
                       PackedString
                       RawFiles
                       Stats
                       C.FFI
                       C.FromGrin2
                       C.Generate
                       C.Prims
                       Cmm.Number
                       Cmm.Op
                       Doc.Chars
                       Doc.DocLike
                       Doc.PPrint
                       Doc.Pretty
                       Fixer.Fixer
                       Fixer.Supply
                       Info.Info
                       Name.Internals
                       Name.Name
                       Name.Names
                       Name.Prim
                       Name.VConsts
                       StringTable.Atom
                       Support.CanType
                       Support.Compat
                       Support.FreeVars
                       Support.IniParse
                       Support.TempDir
                       Support.Tickle
                       Support.Transform
                       Ty.Level
                       Util.ExitCodes
                       Util.Gen
                       Util.GMap
                       Util.Graph
                       Util.Graphviz
                       Util.HasSize
                       Util.IntBag
                       Util.Once
                       Util.Perhaps
                       Util.SetLike
                       Util.Std
                       Util.UnionFind
                       Util.UnionSolve
                       Util.UniqueMonad
                       Util.YAML
                       Version.Config
                       Version.Version

  extensions:          PatternGuards
                       DeriveGeneric

  build-depends:       base >=4.8 && <5,
                       containers,
                       old-time,
                       mtl,
                       directory,
                       utf8-string,
                       binary,
                       syb,
                       bytestring,
                       filepath,
                       pretty,
                       process,
                       fgl,
                       unix,
                       array,
                       random
  hs-source-dirs:      src
  build-tools:         hsc2hs
  default-language:    Haskell98
  ghc-options:         -fno-warn-tabs
  include-dirs:        src/StringTable
  c-sources:           src/StringTable/StringTable_cbits.c
                       cbits/lookup3.c

